<html>
  <head>
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type" />
    <title>clojure.algo.monads - Monad Macros and Definitions 0.1.5 API documentation</title>
    <link href="static/favicon.png" rel="icon" />
    <link href="static/favicon.png" rel="shortcut icon" />
    <link media="all" type="text/css" href="static/clojure.css" rel="stylesheet" />
    <link media="all" type="text/css" href="static/wiki.css" rel="stylesheet" />
    <link media="all" type="text/css" href="static/internal.css" rel="stylesheet" />
    <style>.menuWrapper{height: 36px;}</style>
  </head>
<!--
This document was auto-generated from the source by the clojure autodoc system.
To report errors or ask questions about the overall documentation structure, formatting,
etc., contact Tom Faulhaber (google mail name: tomfaulhaber).
For errors in the documentation of a particular namespace, contact the author of that
namespace.
-->
  <body>
    <div id="AllContentContainer">
      <div id="Header">
	<a id="Logo" href="index.html"><img alt="Clojure" height="100" width="100" src="static/clojure-icon.gif" /></a>
	<h1><a title="page header title" id="page-header" href="index.html">algo.monads API Reference</a></h1>
      </div>
      <div id="leftcolumn"><div style="text-align: center;"></div>
<div class="menu">
  <div class="WikiCustomNav WikiElement wiki">
    <span class="toc-header"><span id="project-name">Monad Macros and Definitions</span> <span id="version">0.1.5</span> API</span><br />
    <ul>
      <li><a class="wiki_link" href="index.html">Overview</a></li>
      <li><a class="wiki_link" href="api-index.html">API Index</a></li>
    </ul>
    
    
    <a href="http://clojure.org" class="wiki_link">Clojure Home</a>
  </div>
</div>
</div>
      <div id="rightcolumn">
	<div id="Content">
	  <div class="contentBox"><div class="innerContentBox">
              <div id="content_view" class="wiki wikiPage">
                <div id="right-sidebar"><div id="toc">
  <h1 class="nopad">Table of Contents</h1>
  <div style="margin-left: 1em;" class="toc-section">
    <a href="#toc0" style="margin-top: 3px;">Overview</a>
    
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#proto-section" style="margin-top: 3px;">Protocols</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a class="toc-entry-anchor" href="#clojure.algo.monads/writer-monad-protocol">writer-monad-protocol</a>
      <div style="margin-left: 1em;" class="toc-subentry">
        <a class="toc-subentry-anchor" href="#clojure.algo.monads/writer-m-add">writer-m-add</a>
      </div><div style="margin-left: 1em;" class="toc-subentry">
        <a class="toc-subentry-anchor" href="#clojure.algo.monads/writer-m-combine">writer-m-combine</a>
      </div>
    </div>
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#" style="margin-top: 3px;"></a>
    
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#var-section" style="margin-top: 3px;">Vars and Functions</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a class="toc-entry-anchor" href="#clojure.algo.monads/call-cc">call-cc</a>
      
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a class="toc-entry-anchor" href="#clojure.algo.monads/cond-statement">cond-statement</a>
      
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a class="toc-entry-anchor" href="#clojure.algo.monads/cont-m">cont-m</a>
      
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a class="toc-entry-anchor" href="#clojure.algo.monads/defmonad">defmonad</a>
      
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a class="toc-entry-anchor" href="#clojure.algo.monads/defmonadfn">defmonadfn</a>
      
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a class="toc-entry-anchor" href="#clojure.algo.monads/domonad">domonad</a>
      
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a class="toc-entry-anchor" href="#clojure.algo.monads/fetch-state">fetch-state</a>
      
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a class="toc-entry-anchor" href="#clojure.algo.monads/fetch-val">fetch-val</a>
      
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a class="toc-entry-anchor" href="#clojure.algo.monads/identity-m">identity-m</a>
      
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a class="toc-entry-anchor" href="#clojure.algo.monads/m-chain">m-chain</a>
      
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a class="toc-entry-anchor" href="#clojure.algo.monads/m-fmap">m-fmap</a>
      
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a class="toc-entry-anchor" href="#clojure.algo.monads/m-join">m-join</a>
      
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a class="toc-entry-anchor" href="#clojure.algo.monads/m-lift">m-lift</a>
      
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a class="toc-entry-anchor" href="#clojure.algo.monads/m-map">m-map</a>
      
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a class="toc-entry-anchor" href="#clojure.algo.monads/m-reduce">m-reduce</a>
      
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a class="toc-entry-anchor" href="#clojure.algo.monads/m-seq">m-seq</a>
      
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a class="toc-entry-anchor" href="#clojure.algo.monads/m-until">m-until</a>
      
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a class="toc-entry-anchor" href="#clojure.algo.monads/m-when">m-when</a>
      
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a class="toc-entry-anchor" href="#clojure.algo.monads/m-when-not">m-when-not</a>
      
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a class="toc-entry-anchor" href="#clojure.algo.monads/maybe-m">maybe-m</a>
      
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a class="toc-entry-anchor" href="#clojure.algo.monads/maybe-t">maybe-t</a>
      
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a class="toc-entry-anchor" href="#clojure.algo.monads/monad">monad</a>
      
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a class="toc-entry-anchor" href="#clojure.algo.monads/monad-transformer">monad-transformer</a>
      
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a class="toc-entry-anchor" href="#clojure.algo.monads/run-cont">run-cont</a>
      
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a class="toc-entry-anchor" href="#clojure.algo.monads/sequence-m">sequence-m</a>
      
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a class="toc-entry-anchor" href="#clojure.algo.monads/sequence-t">sequence-t</a>
      
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a class="toc-entry-anchor" href="#clojure.algo.monads/set-m">set-m</a>
      
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a class="toc-entry-anchor" href="#clojure.algo.monads/set-state">set-state</a>
      
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a class="toc-entry-anchor" href="#clojure.algo.monads/set-val">set-val</a>
      
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a class="toc-entry-anchor" href="#clojure.algo.monads/state-m">state-m</a>
      
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a class="toc-entry-anchor" href="#clojure.algo.monads/state-m-until">state-m-until</a>
      
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a class="toc-entry-anchor" href="#clojure.algo.monads/state-t">state-t</a>
      
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a class="toc-entry-anchor" href="#clojure.algo.monads/update-state">update-state</a>
      
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a class="toc-entry-anchor" href="#clojure.algo.monads/update-val">update-val</a>
      
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a class="toc-entry-anchor" href="#clojure.algo.monads/with-monad">with-monad</a>
      
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a class="toc-entry-anchor" href="#clojure.algo.monads/with-state-field">with-state-field</a>
      
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a class="toc-entry-anchor" href="#clojure.algo.monads/writer-m">writer-m</a>
      
    </div>
  </div>
</div>
</div>
                <div id="content-tag"><h1 id="overview">API for <span id="clojure.algo.monads">clojure.algo.monads</span>
  - <span id="header-project">Monad Macros and Definitions</span> <span id="header-version">0.1.5</span><span id="header-status-block"> (<span id="header-status">in development</span>)</span>
  </h1>
<span id="author-line">by <span id="author-name">Konrad Hinsen</span><br /></span>
<br />Full namespace name: <span id="long-name">clojure.algo.monads</span>
<p></p>
<h2>Overview</h2>
<div id="home-page">Project home page is <a href="http://github.com/clojure/algo.monads/">http://github.com/clojure/algo.monads/</a></div>
<pre id="namespace-docstr">This library contains the most commonly used monads as well
as macros for defining and using monads and useful monadic
functions.</pre>


<span id="see-also">See also: 
  <span id="see-also-link">
    <a href="http://onclojure.com/2009/03/05/a-monad-tutorial-for-clojure-programmers-part-1/">Monad tutorial part 1</a>
  </span><span id="see-also-link">
    <a href="http://onclojure.com/2009/03/06/a-monad-tutorial-for-clojure-programmers-part-2/">Monad tutorial part 2</a>
  </span><span id="see-also-link">
    <a href="http://onclojure.com/2009/03/23/a-monad-tutorial-for-clojure-programmers-part-3/">Monad tutorial part 3</a>
  </span><span id="see-also-link">
    <a href="http://onclojure.com/2009/04/24/a-monad-tutorial-for-clojure-programmers-part-4/">Monad tutorial part 4</a>
  </span><span id="see-also-link">
    <a href="http://www.clojure.net/tags.html#monads-ref">Blog posts on monads in Clojure</a>
  </span><br />
</span><br />

<div id="proto-section">
  <p></p>
  <h2>Protocols</h2>
  <div id="proto-entry">
    <br />
    <hr />
    <h2 id="clojure.algo.monads/writer-monad-protocol">writer-monad-protocol</h2>
    <span id="proto-type">Protocol</span><br />
    <pre id="proto-docstr">Accumulation of values into containers</pre>
    Known implementations: <span id="proto-impls">clojure.lang.APersistentSet, clojure.lang.IPersistentList, clojure.lang.IPersistentVector, java.lang.String</span>
    <div id="proto-var-entry">
      <br />
      <h3 id="clojure.algo.monads/writer-m-add">writer-m-add</h3>
      <span id="var-type">function</span><br />
      <pre id="var-usage">Usage: (writer-m-add container value)
</pre>
      <pre id="var-docstr">add value to container, return new container</pre>
      
      
      
    </div><div id="proto-var-entry">
      <br />
      <h3 id="clojure.algo.monads/writer-m-combine">writer-m-combine</h3>
      <span id="var-type">function</span><br />
      <pre id="var-usage">Usage: (writer-m-combine container1 container2)
</pre>
      <pre id="var-docstr">combine two containers, return new container</pre>
      
      
      
    </div>
    
    
    <a href="https://github.com/clojure/algo.monads/blob/90909e30965bb59fccc8e527d31f8aaabc9d404b/src/main/clojure/clojure/algo/monads.clj#L470" id="proto-source">Source</a>
  </div>
</div>

<div id="var-section">
  <p></p>
  <h2>Public Variables and Functions</h2>
  <div id="var-entry">
    <br />
    <hr />
    <h2 id="clojure.algo.monads/call-cc">call-cc</h2>
    <span id="var-type">function</span><br />
    <pre id="var-usage">Usage: (call-cc f)
</pre>
    <pre id="var-docstr">A computation in the cont monad that calls function f with a single
argument representing the current continuation. The function f should
return a continuation (which becomes the return value of call-cc),
or call the passed-in current continuation to terminate.</pre>
    
    
    <a href="https://github.com/clojure/algo.monads/blob/90909e30965bb59fccc8e527d31f8aaabc9d404b/src/main/clojure/clojure/algo/monads.clj#L538" id="var-source">Source</a>
  </div><div id="var-entry">
    <br />
    <hr />
    <h2 id="clojure.algo.monads/cond-statement">cond-statement</h2>
    <span id="var-type">function</span><br />
    <pre id="var-usage">Usage: (cond-statement expr mexpr continuation)
</pre>
    <pre id="var-docstr">Process a :cond steps when adding a new monadic step to the mexrp.</pre>
    
    
    <a href="https://github.com/clojure/algo.monads/blob/90909e30965bb59fccc8e527d31f8aaabc9d404b/src/main/clojure/clojure/algo/monads.clj#L108" id="var-source">Source</a>
  </div><div id="var-entry">
    <br />
    <hr />
    <h2 id="clojure.algo.monads/cont-m">cont-m</h2>
    <span id="var-type">var</span><br />
    <pre id="var-usage"></pre>
    <pre id="var-docstr">Monad describing computations in continuation-passing style. The monadic
values are functions that are called with a single argument representing
the continuation of the computation, to which they pass their result.</pre>
    
    
    <a href="https://github.com/clojure/algo.monads/blob/90909e30965bb59fccc8e527d31f8aaabc9d404b/src/main/clojure/clojure/algo/monads.clj#L522" id="var-source">Source</a>
  </div><div id="var-entry">
    <br />
    <hr />
    <h2 id="clojure.algo.monads/defmonad">defmonad</h2>
    <span id="var-type">macro</span><br />
    <pre id="var-usage">Usage: (defmonad name doc-string operations)
       (defmonad name operations)
</pre>
    <pre id="var-docstr">Define a named monad by defining the monad operations. The definitions
are written like bindings to the monad operations m-bind and
m-result (required) and m-zero and m-plus (optional).</pre>
    
    
    <a href="https://github.com/clojure/algo.monads/blob/90909e30965bb59fccc8e527d31f8aaabc9d404b/src/main/clojure/clojure/algo/monads.clj#L47" id="var-source">Source</a>
  </div><div id="var-entry">
    <br />
    <hr />
    <h2 id="clojure.algo.monads/defmonadfn">defmonadfn</h2>
    <span id="var-type">macro</span><br />
    <pre id="var-usage">Usage: (defmonadfn name docstring? attr-map? args expr)
       (defmonadfn name docstring? attr-map? (args expr) ...)
</pre>
    <pre id="var-docstr">Like defn, but for functions that use monad operations and are used inside
a with-monad block.</pre>
    
    
    <a href="https://github.com/clojure/algo.monads/blob/90909e30965bb59fccc8e527d31f8aaabc9d404b/src/main/clojure/clojure/algo/monads.clj#L196" id="var-source">Source</a>
  </div><div id="var-entry">
    <br />
    <hr />
    <h2 id="clojure.algo.monads/domonad">domonad</h2>
    <span id="var-type">macro</span><br />
    <pre id="var-usage">Usage: (domonad steps expr)
       (domonad name steps expr)
</pre>
    <pre id="var-docstr">Monad comprehension. Takes the name of a monad, a vector of steps
given as binding-form/monadic-expression pairs, and a result value
specified by expr. The monadic-expression terms can use the binding
variables of the previous steps.
If the monad contains a definition of m-zero, the step list can also
contain conditions of the form :when p, where the predicate p can
contain the binding variables from all previous steps.
A clause of the form :let [binding-form expr ...], where the bindings
are given as a vector as for the use in let, establishes additional
bindings that can be used in the following steps.</pre>
    
    
    <a href="https://github.com/clojure/algo.monads/blob/90909e30965bb59fccc8e527d31f8aaabc9d404b/src/main/clojure/clojure/algo/monads.clj#L173" id="var-source">Source</a>
  </div><div id="var-entry">
    <br />
    <hr />
    <h2 id="clojure.algo.monads/fetch-state">fetch-state</h2>
    <span id="var-type">function</span><br />
    <pre id="var-usage">Usage: (fetch-state)
</pre>
    <pre id="var-docstr">Return a state-monad function that returns the current state and does not
modify it.</pre>
    
    
    <a href="https://github.com/clojure/algo.monads/blob/90909e30965bb59fccc8e527d31f8aaabc9d404b/src/main/clojure/clojure/algo/monads.clj#L418" id="var-source">Source</a>
  </div><div id="var-entry">
    <br />
    <hr />
    <h2 id="clojure.algo.monads/fetch-val">fetch-val</h2>
    <span id="var-type">function</span><br />
    <pre id="var-usage">Usage: (fetch-val key)
</pre>
    <pre id="var-docstr">Return a state-monad function that assumes the state to be a map and
returns the value corresponding to the given key. The state is not modified.</pre>
    
    
    <a href="https://github.com/clojure/algo.monads/blob/90909e30965bb59fccc8e527d31f8aaabc9d404b/src/main/clojure/clojure/algo/monads.clj#L424" id="var-source">Source</a>
  </div><div id="var-entry">
    <br />
    <hr />
    <h2 id="clojure.algo.monads/identity-m">identity-m</h2>
    <span id="var-type">var</span><br />
    <pre id="var-usage"></pre>
    <pre id="var-docstr">Monad describing plain computations. This monad does in fact nothing
at all. It is useful for testing, for combination with monad
transformers, and for code that is parameterized with a monad.</pre>
    
    
    <a href="https://github.com/clojure/algo.monads/blob/90909e30965bb59fccc8e527d31f8aaabc9d404b/src/main/clojure/clojure/algo/monads.clj#L345" id="var-source">Source</a>
  </div><div id="var-entry">
    <br />
    <hr />
    <h2 id="clojure.algo.monads/m-chain">m-chain</h2>
    <span id="var-type">var</span><br />
    <pre id="var-usage"></pre>
    <pre id="var-docstr">Chains together monadic computation steps that are each functions
of one parameter. Each step is called with the result of the previous
step as its argument. (m-chain (step1 step2)) is equivalent to
(fn [x] (domonad [r1 (step1 x) r2 (step2 r1)] r2)).</pre>
    
    
    <a href="https://github.com/clojure/algo.monads/blob/90909e30965bb59fccc8e527d31f8aaabc9d404b/src/main/clojure/clojure/algo/monads.clj#L276" id="var-source">Source</a>
  </div><div id="var-entry">
    <br />
    <hr />
    <h2 id="clojure.algo.monads/m-fmap">m-fmap</h2>
    <span id="var-type">var</span><br />
    <pre id="var-usage"></pre>
    <pre id="var-docstr">Bind the monadic value m to the function returning (f x) for argument x</pre>
    
    
    <a href="https://github.com/clojure/algo.monads/blob/90909e30965bb59fccc8e527d31f8aaabc9d404b/src/main/clojure/clojure/algo/monads.clj#L254" id="var-source">Source</a>
  </div><div id="var-entry">
    <br />
    <hr />
    <h2 id="clojure.algo.monads/m-join">m-join</h2>
    <span id="var-type">var</span><br />
    <pre id="var-usage"></pre>
    <pre id="var-docstr">Converts a monadic value containing a monadic value into a 'simple'
monadic value.</pre>
    
    
    <a href="https://github.com/clojure/algo.monads/blob/90909e30965bb59fccc8e527d31f8aaabc9d404b/src/main/clojure/clojure/algo/monads.clj#L248" id="var-source">Source</a>
  </div><div id="var-entry">
    <br />
    <hr />
    <h2 id="clojure.algo.monads/m-lift">m-lift</h2>
    <span id="var-type">macro</span><br />
    <pre id="var-usage">Usage: (m-lift n f)
</pre>
    <pre id="var-docstr">Converts a function f of n arguments into a function of n
monadic arguments returning a monadic value.</pre>
    
    
    <a href="https://github.com/clojure/algo.monads/blob/90909e30965bb59fccc8e527d31f8aaabc9d404b/src/main/clojure/clojure/algo/monads.clj#L239" id="var-source">Source</a>
  </div><div id="var-entry">
    <br />
    <hr />
    <h2 id="clojure.algo.monads/m-map">m-map</h2>
    <span id="var-type">var</span><br />
    <pre id="var-usage"></pre>
    <pre id="var-docstr">'Executes' the sequence of monadic values resulting from mapping
f onto the values xs. f must return a monadic value.</pre>
    
    
    <a href="https://github.com/clojure/algo.monads/blob/90909e30965bb59fccc8e527d31f8aaabc9d404b/src/main/clojure/clojure/algo/monads.clj#L270" id="var-source">Source</a>
  </div><div id="var-entry">
    <br />
    <hr />
    <h2 id="clojure.algo.monads/m-reduce">m-reduce</h2>
    <span id="var-type">var</span><br />
    <pre id="var-usage"></pre>
    <pre id="var-docstr">Return the reduction of (m-lift 2 f) over the list of monadic values mvs
with initial value (m-result val).</pre>
    
    
    <a href="https://github.com/clojure/algo.monads/blob/90909e30965bb59fccc8e527d31f8aaabc9d404b/src/main/clojure/clojure/algo/monads.clj#L287" id="var-source">Source</a>
  </div><div id="var-entry">
    <br />
    <hr />
    <h2 id="clojure.algo.monads/m-seq">m-seq</h2>
    <span id="var-type">var</span><br />
    <pre id="var-usage"></pre>
    <pre id="var-docstr">'Executes' the monadic values in ms and returns a sequence of the
basic values contained in them.</pre>
    
    
    <a href="https://github.com/clojure/algo.monads/blob/90909e30965bb59fccc8e527d31f8aaabc9d404b/src/main/clojure/clojure/algo/monads.clj#L259" id="var-source">Source</a>
  </div><div id="var-entry">
    <br />
    <hr />
    <h2 id="clojure.algo.monads/m-until">m-until</h2>
    <span id="var-type">var</span><br />
    <pre id="var-usage"></pre>
    <pre id="var-docstr">While (p x) is false, replace x by the value returned by the
monadic computation (f x). Return (m-result x) for the first
x for which (p x) is true.</pre>
    
    
    <a href="https://github.com/clojure/algo.monads/blob/90909e30965bb59fccc8e527d31f8aaabc9d404b/src/main/clojure/clojure/algo/monads.clj#L300" id="var-source">Source</a>
  </div><div id="var-entry">
    <br />
    <hr />
    <h2 id="clojure.algo.monads/m-when">m-when</h2>
    <span id="var-type">macro</span><br />
    <pre id="var-usage">Usage: (m-when test m-expr)
</pre>
    <pre id="var-docstr">If test is logical true, return monadic value m-expr, else return
(m-result nil).</pre>
    
    
    <a href="https://github.com/clojure/algo.monads/blob/90909e30965bb59fccc8e527d31f8aaabc9d404b/src/main/clojure/clojure/algo/monads.clj#L312" id="var-source">Source</a>
  </div><div id="var-entry">
    <br />
    <hr />
    <h2 id="clojure.algo.monads/m-when-not">m-when-not</h2>
    <span id="var-type">macro</span><br />
    <pre id="var-usage">Usage: (m-when-not test m-expr)
</pre>
    <pre id="var-docstr">If test if logical false, return monadic value m-expr, else return
(m-result nil).</pre>
    
    
    <a href="https://github.com/clojure/algo.monads/blob/90909e30965bb59fccc8e527d31f8aaabc9d404b/src/main/clojure/clojure/algo/monads.clj#L318" id="var-source">Source</a>
  </div><div id="var-entry">
    <br />
    <hr />
    <h2 id="clojure.algo.monads/maybe-m">maybe-m</h2>
    <span id="var-type">var</span><br />
    <pre id="var-usage"></pre>
    <pre id="var-docstr">Monad describing computations with possible failures. Failure is
represented by nil, any other value is considered valid. As soon as
a step returns nil, the whole computation will yield nil as well.</pre>
    
    
    <a href="https://github.com/clojure/algo.monads/blob/90909e30965bb59fccc8e527d31f8aaabc9d404b/src/main/clojure/clojure/algo/monads.clj#L355" id="var-source">Source</a>
  </div><div id="var-entry">
    <br />
    <hr />
    <h2 id="clojure.algo.monads/maybe-t">maybe-t</h2>
    <span id="var-type">function</span><br />
    <pre id="var-usage">Usage: (maybe-t m)
       (maybe-t m nothing)
       (maybe-t m nothing which-m-plus)
</pre>
    <pre id="var-docstr">Monad transformer that transforms a monad m into a monad in which
the base values can be invalid (represented by nothing, which defaults
to nil). The third argument chooses if m-zero and m-plus are inherited
from the base monad (use :m-plus-from-base) or adopt maybe-like
behaviour (use :m-plus-from-transformer). The default is :m-plus-from-base
if the base monad m has a definition for m-plus, and
:m-plus-from-transformer otherwise.</pre>
    
    
    <a href="https://github.com/clojure/algo.monads/blob/90909e30965bb59fccc8e527d31f8aaabc9d404b/src/main/clojure/clojure/algo/monads.clj#L578" id="var-source">Source</a>
  </div><div id="var-entry">
    <br />
    <hr />
    <h2 id="clojure.algo.monads/monad">monad</h2>
    <span id="var-type">macro</span><br />
    <pre id="var-usage">Usage: (monad operations)
</pre>
    <pre id="var-docstr">Define a monad by defining the monad operations. The definitions
are written like bindings to the monad operations m-bind and
m-result (required) and m-zero and m-plus (optional).</pre>
    
    
    <a href="https://github.com/clojure/algo.monads/blob/90909e30965bb59fccc8e527d31f8aaabc9d404b/src/main/clojure/clojure/algo/monads.clj#L32" id="var-source">Source</a>
  </div><div id="var-entry">
    <br />
    <hr />
    <h2 id="clojure.algo.monads/monad-transformer">monad-transformer</h2>
    <span id="var-type">macro</span><br />
    <pre id="var-usage">Usage: (monad-transformer base which-m-plus operations)
</pre>
    <pre id="var-docstr">Define a monad transforer in terms of the monad operations and the base
monad. The argument which-m-plus chooses if m-zero and m-plus are taken
from the base monad or from the transformer.</pre>
    
    
    <a href="https://github.com/clojure/algo.monads/blob/90909e30965bb59fccc8e527d31f8aaabc9d404b/src/main/clojure/clojure/algo/monads.clj#L556" id="var-source">Source</a>
  </div><div id="var-entry">
    <br />
    <hr />
    <h2 id="clojure.algo.monads/run-cont">run-cont</h2>
    <span id="var-type">function</span><br />
    <pre id="var-usage">Usage: (run-cont c)
</pre>
    <pre id="var-docstr">Execute the computation c in the cont monad and return its result.</pre>
    
    
    <a href="https://github.com/clojure/algo.monads/blob/90909e30965bb59fccc8e527d31f8aaabc9d404b/src/main/clojure/clojure/algo/monads.clj#L533" id="var-source">Source</a>
  </div><div id="var-entry">
    <br />
    <hr />
    <h2 id="clojure.algo.monads/sequence-m">sequence-m</h2>
    <span id="var-type">var</span><br />
    <pre id="var-usage"></pre>
    <pre id="var-docstr">Monad describing multi-valued computations, i.e. computations
that can yield multiple values. Any object implementing the seq
protocol can be used as a monadic value.</pre>
    
    
    <a href="https://github.com/clojure/algo.monads/blob/90909e30965bb59fccc8e527d31f8aaabc9d404b/src/main/clojure/clojure/algo/monads.clj#L368" id="var-source">Source</a>
  </div><div id="var-entry">
    <br />
    <hr />
    <h2 id="clojure.algo.monads/sequence-t">sequence-t</h2>
    <span id="var-type">function</span><br />
    <pre id="var-usage">Usage: (sequence-t m)
       (sequence-t m which-m-plus)
</pre>
    <pre id="var-docstr">Monad transformer that transforms a monad m into a monad in which
the base values are sequences. The argument which-m-plus chooses
if m-zero and m-plus are inherited from the base monad
(use :m-plus-from-base) or adopt sequence-like
behaviour (use :m-plus-from-transformer). The default is :m-plus-from-base
if the base monad m has a definition for m-plus, and
:m-plus-from-transformer otherwise.</pre>
    
    
    <a href="https://github.com/clojure/algo.monads/blob/90909e30965bb59fccc8e527d31f8aaabc9d404b/src/main/clojure/clojure/algo/monads.clj#L610" id="var-source">Source</a>
  </div><div id="var-entry">
    <br />
    <hr />
    <h2 id="clojure.algo.monads/set-m">set-m</h2>
    <span id="var-type">var</span><br />
    <pre id="var-usage"></pre>
    <pre id="var-docstr">Monad describing multi-valued computations, like sequence-m,
but returning sets of results instead of sequences of results.</pre>
    
    
    <a href="https://github.com/clojure/algo.monads/blob/90909e30965bb59fccc8e527d31f8aaabc9d404b/src/main/clojure/clojure/algo/monads.clj#L382" id="var-source">Source</a>
  </div><div id="var-entry">
    <br />
    <hr />
    <h2 id="clojure.algo.monads/set-state">set-state</h2>
    <span id="var-type">function</span><br />
    <pre id="var-usage">Usage: (set-state s)
</pre>
    <pre id="var-docstr">Return a state-monad function that replaces the current state by s and
returns the previous state.</pre>
    
    
    <a href="https://github.com/clojure/algo.monads/blob/90909e30965bb59fccc8e527d31f8aaabc9d404b/src/main/clojure/clojure/algo/monads.clj#L412" id="var-source">Source</a>
  </div><div id="var-entry">
    <br />
    <hr />
    <h2 id="clojure.algo.monads/set-val">set-val</h2>
    <span id="var-type">function</span><br />
    <pre id="var-usage">Usage: (set-val key val)
</pre>
    <pre id="var-docstr">Return a state-monad function that assumes the state to be a map and
replaces the value associated with key by val. The old value is returned.</pre>
    
    
    <a href="https://github.com/clojure/algo.monads/blob/90909e30965bb59fccc8e527d31f8aaabc9d404b/src/main/clojure/clojure/algo/monads.clj#L440" id="var-source">Source</a>
  </div><div id="var-entry">
    <br />
    <hr />
    <h2 id="clojure.algo.monads/state-m">state-m</h2>
    <span id="var-type">var</span><br />
    <pre id="var-usage"></pre>
    <pre id="var-docstr">Monad describing stateful computations. The monadic values have the
structure (fn [old-state] [result new-state]).</pre>
    
    
    <a href="https://github.com/clojure/algo.monads/blob/90909e30965bb59fccc8e527d31f8aaabc9d404b/src/main/clojure/clojure/algo/monads.clj#L395" id="var-source">Source</a>
  </div><div id="var-entry">
    <br />
    <hr />
    <h2 id="clojure.algo.monads/state-m-until">state-m-until</h2>
    <span id="var-type">function</span><br />
    <pre id="var-usage">Usage: (state-m-until p f x)
</pre>
    <pre id="var-docstr">An optimized implementation of m-until for the state monad that
replaces recursion by a loop.</pre>
    
    
    <a href="https://github.com/clojure/algo.monads/blob/90909e30965bb59fccc8e527d31f8aaabc9d404b/src/main/clojure/clojure/algo/monads.clj#L458" id="var-source">Source</a>
  </div><div id="var-entry">
    <br />
    <hr />
    <h2 id="clojure.algo.monads/state-t">state-t</h2>
    <span id="var-type">function</span><br />
    <pre id="var-usage">Usage: (state-t m)
</pre>
    <pre id="var-docstr">Monad transformer that transforms a monad m into a monad of stateful
computations that have the base monad type as their result.</pre>
    
    
    <a href="https://github.com/clojure/algo.monads/blob/90909e30965bb59fccc8e527d31f8aaabc9d404b/src/main/clojure/clojure/algo/monads.clj#L637" id="var-source">Source</a>
  </div><div id="var-entry">
    <br />
    <hr />
    <h2 id="clojure.algo.monads/update-state">update-state</h2>
    <span id="var-type">function</span><br />
    <pre id="var-usage">Usage: (update-state f)
</pre>
    <pre id="var-docstr">Return a state-monad function that replaces the current state by the
result of f applied to the current state and that returns the old state.</pre>
    
    
    <a href="https://github.com/clojure/algo.monads/blob/90909e30965bb59fccc8e527d31f8aaabc9d404b/src/main/clojure/clojure/algo/monads.clj#L406" id="var-source">Source</a>
  </div><div id="var-entry">
    <br />
    <hr />
    <h2 id="clojure.algo.monads/update-val">update-val</h2>
    <span id="var-type">function</span><br />
    <pre id="var-usage">Usage: (update-val key f)
</pre>
    <pre id="var-docstr">Return a state-monad function that assumes the state to be a map and
replaces the value associated with the given key by the return value
of f applied to the old value. The old value is returned.</pre>
    
    
    <a href="https://github.com/clojure/algo.monads/blob/90909e30965bb59fccc8e527d31f8aaabc9d404b/src/main/clojure/clojure/algo/monads.clj#L430" id="var-source">Source</a>
  </div><div id="var-entry">
    <br />
    <hr />
    <h2 id="clojure.algo.monads/with-monad">with-monad</h2>
    <span id="var-type">macro</span><br />
    <pre id="var-usage">Usage: (with-monad monad &amp; exprs)
</pre>
    <pre id="var-docstr">Evaluates an expression after replacing the keywords defining the
monad operations by the functions associated with these keywords
in the monad definition given by name.</pre>
    
    
    <a href="https://github.com/clojure/algo.monads/blob/90909e30965bb59fccc8e527d31f8aaabc9d404b/src/main/clojure/clojure/algo/monads.clj#L161" id="var-source">Source</a>
  </div><div id="var-entry">
    <br />
    <hr />
    <h2 id="clojure.algo.monads/with-state-field">with-state-field</h2>
    <span id="var-type">function</span><br />
    <pre id="var-usage">Usage: (with-state-field key statement)
</pre>
    <pre id="var-docstr">Returns a state-monad function that expects a map as its state and
runs statement (another state-monad function) on the state defined by
the map entry corresponding to key. The map entry is updated with the
new state returned by statement.</pre>
    
    
    <a href="https://github.com/clojure/algo.monads/blob/90909e30965bb59fccc8e527d31f8aaabc9d404b/src/main/clojure/clojure/algo/monads.clj#L446" id="var-source">Source</a>
  </div><div id="var-entry">
    <br />
    <hr />
    <h2 id="clojure.algo.monads/writer-m">writer-m</h2>
    <span id="var-type">function</span><br />
    <pre id="var-usage">Usage: (writer-m empty-accumulator)
</pre>
    <pre id="var-docstr">Monad describing computations that accumulate data on the side, e.g. for
logging. The monadic values have the structure [value log]. Any of the
accumulators from clojure.contrib.accumulators can be used for storing the
log data. Its empty value is passed as a parameter.</pre>
    
    
    <a href="https://github.com/clojure/algo.monads/blob/90909e30965bb59fccc8e527d31f8aaabc9d404b/src/main/clojure/clojure/algo/monads.clj#L495" id="var-source">Source</a>
  </div>
</div>


</div>
              </div>
            </div>
          </div>
	</div>
	<div id="foot">
	  <div style="text-align: center;" id="copyright">Copyright 2007-2013 by Rich Hickey and the various contributors</div>
	</div>
      </div>
      <div id="DesignedBy">Logo &amp; site design by <a title="Visit Tom Hickey's website." href="http://www.tomhickey.com">Tom Hickey</a>.<br />
      Clojure auto-documentation system by Tom Faulhaber.</div>
    </div>
    <!-- /AllContentContainer -->
  </body>

</html>